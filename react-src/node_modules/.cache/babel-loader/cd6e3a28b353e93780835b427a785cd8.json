{"ast":null,"code":"import React,{useEffect,useState}from'react';import Alert from\"react-bootstrap/Alert\";import AlertsService from'../../services/alertService';import HTMLService from'../../services/htmlService';const alertStyles=[\"primary\",\"secondary\",\"success\",\"danger\",\"warning\",\"info\",\"light\",\"dark\"];function AlertItem(props){const[showAlert,setShowAlert]=useState(false);const{alert,alertClass}=props;useEffect(()=>{setShowAlert(alert?true:false);},[alert]);if(showAlert){return/*#__PURE__*/React.createElement(Alert,{key:alert.id,variant:alertClass,show:showAlert,onClose:()=>setShowAlert(false),className:\"mb-0\",dismissible:true},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"strong\",null,alert.title.rendered,\":\"),\" \",HTMLService.sanatizeHTML(alert.content.rendered)));}else{return/*#__PURE__*/React.createElement(React.Fragment,null);}}function SiteAlert(){const[alerts,setAlerts]=useState([]);useEffect(()=>{async function getAlerts(){const alertList=await AlertsService.getAlerts();setAlerts(alertList);}getAlerts();},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,alerts?alerts.map(alert=>{const className=HTMLService.sanatizeHTML(alert.excerpt.rendered);const alertClass=alertStyles.includes(className.trim())?className:\"danger\";return/*#__PURE__*/React.createElement(AlertItem,{alert:alert,alertClass:alertClass});}):/*#__PURE__*/React.createElement(React.Fragment,null));}export default SiteAlert;","map":{"version":3,"names":["React","useEffect","useState","Alert","AlertsService","HTMLService","alertStyles","AlertItem","props","showAlert","setShowAlert","alert","alertClass","createElement","key","id","variant","show","onClose","className","dismissible","title","rendered","sanatizeHTML","content","Fragment","SiteAlert","alerts","setAlerts","getAlerts","alertList","map","excerpt","includes","trim"],"sources":["C:/Users/jones/OneDrive/Desktop/stardust-theme/react-src/src/components/siteAlert/siteAlert.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nimport Alert from \"react-bootstrap/Alert\";\r\n\r\nimport AlertsService from '../../services/alertService';\r\nimport HTMLService from '../../services/htmlService';\r\n\r\nconst alertStyles = [\r\n    \"primary\",\r\n    \"secondary\",\r\n    \"success\",\r\n    \"danger\",\r\n    \"warning\",\r\n    \"info\",\r\n    \"light\",\r\n    \"dark\"\r\n]\r\n\r\nfunction AlertItem(props) {\r\n    const [showAlert, setShowAlert] = useState(false);\r\n    const { alert, alertClass } = props;\r\n\r\n    useEffect(() => {\r\n        setShowAlert(alert ? true : false)\r\n    }, [alert])\r\n\r\n    if (showAlert) {\r\n        return (\r\n            <Alert\r\n                key={alert.id}\r\n                variant={alertClass}\r\n                show={showAlert}\r\n                onClose={() => setShowAlert(false)}\r\n                className=\"mb-0\"\r\n                dismissible\r\n            >\r\n                <p><strong>{alert.title.rendered}:</strong> {HTMLService.sanatizeHTML(alert.content.rendered)}</p>\r\n            </Alert>\r\n        )\r\n    } else {\r\n        return <></>\r\n    }\r\n}\r\n\r\nfunction SiteAlert() {\r\n    const [alerts, setAlerts] = useState([]);\r\n\r\n    useEffect(() => {\r\n        async function getAlerts() {\r\n            const alertList = await AlertsService.getAlerts();\r\n\r\n            setAlerts(alertList);\r\n        }\r\n\r\n        getAlerts();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            {\r\n                alerts ? \r\n                    alerts.map(alert => {\r\n                        const className = HTMLService.sanatizeHTML(alert.excerpt.rendered);\r\n                        const alertClass = alertStyles.includes(className.trim()) ? className : \"danger\"\r\n\r\n                        return (\r\n                            <AlertItem \r\n                                alert={alert}\r\n                                alertClass={alertClass} \r\n                            />\r\n                        )\r\n                    })\r\n                : <></>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SiteAlert;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAElD,MAAO,CAAAC,KAAK,KAAM,uBAAuB,CAEzC,MAAO,CAAAC,aAAa,KAAM,6BAA6B,CACvD,MAAO,CAAAC,WAAW,KAAM,4BAA4B,CAEpD,KAAM,CAAAC,WAAW,CAAG,CAChB,SAAS,CACT,WAAW,CACX,SAAS,CACT,QAAQ,CACR,SAAS,CACT,MAAM,CACN,OAAO,CACP,MAAM,CACT,CAED,QAAS,CAAAC,SAASA,CAACC,KAAK,CAAE,CACtB,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGR,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAAES,KAAK,CAAEC,UAAW,CAAC,CAAGJ,KAAK,CAEnCP,SAAS,CAAC,IAAM,CACZS,YAAY,CAACC,KAAK,CAAG,IAAI,CAAG,KAAK,CAAC,CACtC,CAAC,CAAE,CAACA,KAAK,CAAC,CAAC,CAEX,GAAIF,SAAS,CAAE,CACX,mBACIT,KAAA,CAAAa,aAAA,CAACV,KAAK,EACFW,GAAG,CAAEH,KAAK,CAACI,EAAG,CACdC,OAAO,CAAEJ,UAAW,CACpBK,IAAI,CAAER,SAAU,CAChBS,OAAO,CAAEA,CAAA,GAAMR,YAAY,CAAC,KAAK,CAAE,CACnCS,SAAS,CAAC,MAAM,CAChBC,WAAW,oBAEXpB,KAAA,CAAAa,aAAA,uBAAGb,KAAA,CAAAa,aAAA,eAASF,KAAK,CAACU,KAAK,CAACC,QAAQ,CAAC,GAAC,CAAS,IAAC,CAACjB,WAAW,CAACkB,YAAY,CAACZ,KAAK,CAACa,OAAO,CAACF,QAAQ,CAAC,CAAK,CAC9F,CAEhB,CAAC,IAAM,CACH,mBAAOtB,KAAA,CAAAa,aAAA,CAAAb,KAAA,CAAAyB,QAAA,MAAK,CAChB,CACJ,CAEA,QAAS,CAAAC,SAASA,CAAA,CAAG,CACjB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAG1B,QAAQ,CAAC,EAAE,CAAC,CAExCD,SAAS,CAAC,IAAM,CACZ,cAAe,CAAA4B,SAASA,CAAA,CAAG,CACvB,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAA1B,aAAa,CAACyB,SAAS,EAAE,CAEjDD,SAAS,CAACE,SAAS,CAAC,CACxB,CAEAD,SAAS,EAAE,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,mBACI7B,KAAA,CAAAa,aAAA,CAAAb,KAAA,CAAAyB,QAAA,MAEQE,MAAM,CACFA,MAAM,CAACI,GAAG,CAACpB,KAAK,EAAI,CAChB,KAAM,CAAAQ,SAAS,CAAGd,WAAW,CAACkB,YAAY,CAACZ,KAAK,CAACqB,OAAO,CAACV,QAAQ,CAAC,CAClE,KAAM,CAAAV,UAAU,CAAGN,WAAW,CAAC2B,QAAQ,CAACd,SAAS,CAACe,IAAI,EAAE,CAAC,CAAGf,SAAS,CAAG,QAAQ,CAEhF,mBACInB,KAAA,CAAAa,aAAA,CAACN,SAAS,EACNI,KAAK,CAAEA,KAAM,CACbC,UAAU,CAAEA,UAAW,EACzB,CAEV,CAAC,CAAC,cACJZ,KAAA,CAAAa,aAAA,CAAAb,KAAA,CAAAyB,QAAA,MAAK,CAEZ,CAEX,CAEA,cAAe,CAAAC,SAAS"},"metadata":{},"sourceType":"module"}