{"ast":null,"code":"\"use strict\";\n\nconst PDF = require(\"../object\");\nmodule.exports = class JPEGImage {\n  constructor(src) {\n    this.src = src;\n    this.xobjCount = 1;\n    const view = new DataView(src);\n    if (view.getUint8(0) !== 0xff || view.getUint8(1) !== 0xd8) {\n      throw new Error(\"Invalid JPEG image.\");\n    }\n    let blockLength = view.getUint8(4) * 256 + view.getUint8(5);\n    const len = view.byteLength;\n    let i = 4;\n    while (i < len) {\n      i += blockLength;\n      if (view.getUint8(i) !== 0xff) {\n        throw new Error(\"Could not read JPEG the image size\");\n      }\n      if (view.getUint8(i + 1) === 0xc0 ||\n      //(SOF) Huffman  - Baseline DCT\n      view.getUint8(i + 1) === 0xc1 ||\n      //(SOF) Huffman  - Extended sequential DCT\n      view.getUint8(i + 1) === 0xc2 ||\n      // Progressive DCT (SOF2)\n      view.getUint8(i + 1) === 0xc3 ||\n      // Spatial (sequential) lossless (SOF3)\n      view.getUint8(i + 1) === 0xc4 ||\n      // Differential sequential DCT (SOF5)\n      view.getUint8(i + 1) === 0xc5 ||\n      // Differential progressive DCT (SOF6)\n      view.getUint8(i + 1) === 0xc6 ||\n      // Differential spatial (SOF7)\n      view.getUint8(i + 1) === 0xc7) {\n        this.height = view.getUint8(i + 5) * 256 + view.getUint8(i + 6);\n        this.width = view.getUint8(i + 7) * 256 + view.getUint8(i + 8);\n        const colorSpace = view.getUint8(i + 9);\n        switch (colorSpace) {\n          case 3:\n            this.colorSpace = \"DeviceRGB\";\n            break;\n          case 1:\n            this.colorSpace = \"DeviceGray\";\n            break;\n        }\n        break;\n      } else {\n        i += 2;\n        blockLength = view.getUint8(i) * 256 + view.getUint8(i + 1);\n      }\n    }\n  }\n  async write(doc, xobjs) {\n    const xobj = xobjs[0];\n    xobj.prop(\"Subtype\", \"Image\");\n    xobj.prop(\"Width\", this.width);\n    xobj.prop(\"Height\", this.height);\n    xobj.prop(\"ColorSpace\", this.colorSpace);\n    xobj.prop(\"BitsPerComponent\", 8);\n    const hex = asHex(this.src);\n    xobj.prop(\"Filter\", new PDF.Array([\"/ASCIIHexDecode\", \"/DCTDecode\"]));\n    xobj.prop(\"Length\", hex.length + 1);\n    xobj.prop(\"Length1\", this.src.byteLength);\n    const content = new PDF.Stream(xobj);\n    content.content = hex + \">\\n\";\n    await doc._writeObject(xobj);\n  }\n};\nfunction asHex(ab) {\n  const view = new Uint8Array(ab);\n  let hex = \"\";\n  for (let i = 0, len = ab.byteLength; i < len; ++i) {\n    hex += toHex(view[i]);\n  }\n  return hex;\n}\nfunction toHex(n) {\n  if (n < 16) return \"0\" + n.toString(16);\n  return n.toString(16);\n}","map":{"version":3,"names":["PDF","require","module","exports","JPEGImage","constructor","src","xobjCount","view","DataView","getUint8","Error","blockLength","len","byteLength","i","height","width","colorSpace","write","doc","xobjs","xobj","prop","hex","asHex","Array","length","content","Stream","_writeObject","ab","Uint8Array","toHex","n","toString"],"sources":["C:/xampp/htdocs/stardust/wp-content/themes/stardust-theme/react-src/node_modules/pdfjs/lib/image/jpeg.js"],"sourcesContent":["\"use strict\";\n\nconst PDF = require(\"../object\");\n\nmodule.exports = class JPEGImage {\n  constructor(src) {\n    this.src = src;\n    this.xobjCount = 1;\n\n    const view = new DataView(src);\n    if (view.getUint8(0) !== 0xff || view.getUint8(1) !== 0xd8) {\n      throw new Error(\"Invalid JPEG image.\");\n    }\n\n    let blockLength = view.getUint8(4) * 256 + view.getUint8(5);\n    const len = view.byteLength;\n    let i = 4;\n\n    while (i < len) {\n      i += blockLength;\n\n      if (view.getUint8(i) !== 0xff) {\n        throw new Error(\"Could not read JPEG the image size\");\n      }\n\n      if (\n        view.getUint8(i + 1) === 0xc0 || //(SOF) Huffman  - Baseline DCT\n        view.getUint8(i + 1) === 0xc1 || //(SOF) Huffman  - Extended sequential DCT\n        view.getUint8(i + 1) === 0xc2 || // Progressive DCT (SOF2)\n        view.getUint8(i + 1) === 0xc3 || // Spatial (sequential) lossless (SOF3)\n        view.getUint8(i + 1) === 0xc4 || // Differential sequential DCT (SOF5)\n        view.getUint8(i + 1) === 0xc5 || // Differential progressive DCT (SOF6)\n        view.getUint8(i + 1) === 0xc6 || // Differential spatial (SOF7)\n        view.getUint8(i + 1) === 0xc7\n      ) {\n        this.height = view.getUint8(i + 5) * 256 + view.getUint8(i + 6);\n        this.width = view.getUint8(i + 7) * 256 + view.getUint8(i + 8);\n\n        const colorSpace = view.getUint8(i + 9);\n        switch (colorSpace) {\n          case 3:\n            this.colorSpace = \"DeviceRGB\";\n            break;\n          case 1:\n            this.colorSpace = \"DeviceGray\";\n            break;\n        }\n\n        break;\n      } else {\n        i += 2;\n        blockLength = view.getUint8(i) * 256 + view.getUint8(i + 1);\n      }\n    }\n  }\n\n  async write(doc, xobjs) {\n    const xobj = xobjs[0];\n\n    xobj.prop(\"Subtype\", \"Image\");\n    xobj.prop(\"Width\", this.width);\n    xobj.prop(\"Height\", this.height);\n    xobj.prop(\"ColorSpace\", this.colorSpace);\n    xobj.prop(\"BitsPerComponent\", 8);\n\n    const hex = asHex(this.src);\n    xobj.prop(\"Filter\", new PDF.Array([\"/ASCIIHexDecode\", \"/DCTDecode\"]));\n    xobj.prop(\"Length\", hex.length + 1);\n    xobj.prop(\"Length1\", this.src.byteLength);\n\n    const content = new PDF.Stream(xobj);\n    content.content = hex + \">\\n\";\n\n    await doc._writeObject(xobj);\n  }\n};\n\nfunction asHex(ab) {\n  const view = new Uint8Array(ab);\n  let hex = \"\";\n  for (let i = 0, len = ab.byteLength; i < len; ++i) {\n    hex += toHex(view[i]);\n  }\n  return hex;\n}\n\nfunction toHex(n) {\n  if (n < 16) return \"0\" + n.toString(16);\n  return n.toString(16);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}