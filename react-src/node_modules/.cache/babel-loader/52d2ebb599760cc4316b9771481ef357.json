{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\stardust\\\\wp-content\\\\themes\\\\stardust-theme\\\\react-src\\\\src\\\\pages\\\\newsletters\\\\newsletters.js\";\nimport React, { useEffect, useState } from 'react';\nimport { pdfjs, getDocument } from 'pdfjs';\nimport PageFlip from 'react-pageflip';\nimport PageTitle from '../../components/pageTItle/pageTitle';\nimport HTMLService from '../../services/htmlService';\nimport NewslettersService from '../../services/newsletterService';\nimport './newsletters.css';\nfunction NewslettersPage() {\n  const [newsletter, setNewsletter] = useState({});\n  const [newsletterList, setNewsletterList] = useState([]);\n  const [pdfUrl, setPdfUrl] = useState('');\n  useEffect(() => {\n    async function getNewsletters() {\n      let response = await NewslettersService.getNewsletters();\n      if (response.length) {\n        setNewsletter(response[0]);\n        setPdfUrl(HTMLService.sanatizeHTML(response[0].content.rendered));\n        if (response.length > 1) {\n          response.shift();\n          setNewsletterList(response);\n        }\n      }\n    }\n    getNewsletters();\n  }, []);\n  const PDFViewer = ({\n    pdfUrl\n  }) => {\n    const [numPages, setNumPages] = useState(null);\n    const [pages, setPages] = useState([]);\n    useEffect(() => {\n      const fetchPDF = async () => {\n        try {\n          const pdfData = await fetch(pdfUrl);\n          const pdfBlob = await pdfData.blob();\n          const pdfDocument = await pdfjs.getDocument({\n            data: pdfBlob\n          }).promise;\n          setNumPages(pdfDocument.numPages);\n          const pagesArray = Array.from({\n            length: pdfDocument.numPages\n          }, (_, index) => index + 1);\n          setPages(pagesArray);\n        } catch (error) {\n          console.error('Error fetching PDF:', error);\n        }\n      };\n      fetchPDF();\n    }, [pdfUrl]);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, pages.map(pageNumber => /*#__PURE__*/React.createElement(\"div\", {\n      key: pageNumber,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Page, {\n      pageNumber: pageNumber,\n      pdfUrl: pdfUrl,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }))));\n  };\n  const Page = ({\n    pageNumber,\n    pdfUrl\n  }) => {\n    const [page, setPage] = useState(null);\n    useEffect(() => {\n      const fetchPage = async () => {\n        const pdfData = await fetch(pdfUrl);\n        const pdfBlob = await pdfData.blob();\n        const pdfDocument = await pdfjs.getDocument({\n          data: pdfBlob\n        }).promise;\n        const pdfPage = await pdfDocument.getPage(pageNumber);\n        setPage(pdfPage);\n      };\n      fetchPage();\n    }, [pdfUrl, pageNumber]);\n    if (!page) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 18\n        }\n      }, \"Loading...\");\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: page,\n      alt: `Page ${pageNumber}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }));\n  };\n  const FlipBook = ({\n    children\n  }) => {\n    return /*#__PURE__*/React.createElement(PageFlip, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, children);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"newsletters\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PageTitle, {\n    image: \"#\",\n    pageTitle: \"Newsletters\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(FlipBook, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(PDFViewer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  })));\n}\nexport default NewslettersPage;","map":{"version":3,"names":["React","useEffect","useState","pdfjs","getDocument","PageFlip","PageTitle","HTMLService","NewslettersService","NewslettersPage","newsletter","setNewsletter","newsletterList","setNewsletterList","pdfUrl","setPdfUrl","getNewsletters","response","length","sanatizeHTML","content","rendered","shift","PDFViewer","numPages","setNumPages","pages","setPages","fetchPDF","pdfData","fetch","pdfBlob","blob","pdfDocument","data","promise","pagesArray","Array","from","_","index","error","console","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","pageNumber","key","Page","page","setPage","fetchPage","pdfPage","getPage","src","alt","FlipBook","children","id","image","pageTitle"],"sources":["C:/xampp/htdocs/stardust/wp-content/themes/stardust-theme/react-src/src/pages/newsletters/newsletters.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { pdfjs, getDocument } from 'pdfjs';\r\nimport PageFlip from 'react-pageflip';\r\n\r\nimport PageTitle from '../../components/pageTItle/pageTitle';\r\n\r\nimport HTMLService from '../../services/htmlService';\r\nimport NewslettersService from '../../services/newsletterService';\r\n\r\nimport './newsletters.css';\r\n\r\nfunction NewslettersPage() {\r\n    const [newsletter, setNewsletter] = useState({});\r\n    const [newsletterList, setNewsletterList] = useState([]);\r\n    const [pdfUrl, setPdfUrl] = useState('');\r\n\r\n    useEffect(() => {\r\n        async function getNewsletters() {\r\n            let response = await NewslettersService.getNewsletters();\r\n\r\n            if (response.length) {\r\n                setNewsletter(response[0]);\r\n                setPdfUrl(HTMLService.sanatizeHTML(response[0].content.rendered));\r\n\r\n                if (response.length > 1) {\r\n                    response.shift();\r\n                    setNewsletterList(response);\r\n                }\r\n            }\r\n        }\r\n\r\n        getNewsletters();\r\n    }, [])\r\n\r\n    const PDFViewer = ({ pdfUrl }) => {\r\n        const [numPages, setNumPages] = useState(null);\r\n        const [pages, setPages] = useState([]);\r\n      \r\n        useEffect(() => {\r\n          const fetchPDF = async () => {\r\n            try {\r\n              const pdfData = await fetch(pdfUrl);\r\n              const pdfBlob = await pdfData.blob();\r\n              const pdfDocument = await pdfjs.getDocument({ data: pdfBlob }).promise;\r\n      \r\n              setNumPages(pdfDocument.numPages);\r\n              const pagesArray = Array.from({ length: pdfDocument.numPages }, (_, index) => index + 1);\r\n              setPages(pagesArray);\r\n            } catch (error) {\r\n              console.error('Error fetching PDF:', error);\r\n            }\r\n          };\r\n      \r\n          fetchPDF();\r\n        }, [pdfUrl]);\r\n      \r\n        return (\r\n          <div>\r\n            {pages.map((pageNumber) => (\r\n              <div key={pageNumber}>\r\n                <Page pageNumber={pageNumber} pdfUrl={pdfUrl} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        );\r\n      };\r\n      \r\n      const Page = ({ pageNumber, pdfUrl }) => {\r\n        const [page, setPage] = useState(null);\r\n      \r\n        useEffect(() => {\r\n          const fetchPage = async () => {\r\n            const pdfData = await fetch(pdfUrl);\r\n            const pdfBlob = await pdfData.blob();\r\n            const pdfDocument = await pdfjs.getDocument({ data: pdfBlob }).promise;\r\n            const pdfPage = await pdfDocument.getPage(pageNumber);\r\n      \r\n            setPage(pdfPage);\r\n          };\r\n      \r\n          fetchPage();\r\n        }, [pdfUrl, pageNumber]);\r\n      \r\n        if (!page) {\r\n          return <div>Loading...</div>;\r\n        }\r\n      \r\n        return (\r\n          <div>\r\n            {/* Render PDF page content here */}\r\n            <img src={page} alt={`Page ${pageNumber}`} />\r\n          </div>\r\n        );\r\n      };\r\n\r\n    const FlipBook = ({ children }) => {\r\n        return (\r\n            <PageFlip>\r\n                {children}\r\n            </PageFlip>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div id='newsletters'>\r\n            <PageTitle\r\n                image=\"#\"\r\n                pageTitle=\"Newsletters\"\r\n            />\r\n            <FlipBook>\r\n                <PDFViewer />\r\n            </FlipBook>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewslettersPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}