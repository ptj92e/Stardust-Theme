{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\stardust\\\\wp-content\\\\themes\\\\stardust-theme\\\\react-src\\\\src\\\\pages\\\\newsletters\\\\newsletters.js\";\nimport React, { useEffect, useState } from 'react';\nimport pdfjs from 'pdfjs-dist/build/pdf';\nimport PageTitle from '../../components/pageTItle/pageTitle';\nimport HTMLService from '../../services/htmlService';\nimport NewslettersService from '../../services/newsletterService';\nimport './newsletters.css';\nfunction NewslettersPage() {\n  const [newsletter, setNewsletter] = useState({});\n  const [newsletterList, setNewsletterList] = useState([]);\n  const [pdfUrl, setPdfUrl] = useState('');\n  const [pdf, setPdf] = useState();\n  const [numPages, setNumPages] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  useEffect(() => {\n    async function getNewsletters() {\n      let response = await NewslettersService.getNewsletters();\n      if (response.length) {\n        setNewsletter(response[0]);\n        setPdfUrl(HTMLService.sanatizeHTML(response[0].content.rendered));\n        if (response.length > 1) {\n          response.shift();\n          setNewsletterList(response);\n        }\n      }\n    }\n    getNewsletters();\n  }, []);\n  useEffect(() => {\n    // Asynchronously load the PDF\n    const loadingTask = pdfjs.getDocument(pdfUrl);\n    loadingTask.promise.then(pdf => {\n      setNumPages(pdf.numPages);\n    }, error => {\n      console.error('Error loading PDF:', error);\n    });\n  }, [pdfUrl]);\n  const changePage = offset => {\n    setPageNumber(prevPageNumber => prevPageNumber + offset);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"newsletters\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PageTitle, {\n    image: \"#\",\n    pageTitle: \"Newsletters\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }), !newsletter.title ? /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, \"No newsletter found\") : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 19\n    }\n  }, \"Page \", pageNumber, \" of \", numPages), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => changePage(-1),\n    disabled: pageNumber <= 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 19\n    }\n  }, \"Previous\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => changePage(1),\n    disabled: pageNumber >= numPages,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 19\n    }\n  }, \"Next\"), /*#__PURE__*/React.createElement(\"canvas\", {\n    id: \"pdf-viewer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 19\n    }\n  })));\n}\nexport default NewslettersPage;","map":{"version":3,"names":["React","useEffect","useState","pdfjs","PageTitle","HTMLService","NewslettersService","NewslettersPage","newsletter","setNewsletter","newsletterList","setNewsletterList","pdfUrl","setPdfUrl","pdf","setPdf","numPages","setNumPages","pageNumber","setPageNumber","getNewsletters","response","length","sanatizeHTML","content","rendered","shift","loadingTask","getDocument","promise","then","error","console","changePage","offset","prevPageNumber","createElement","id","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","image","pageTitle","title","onClick","disabled"],"sources":["C:/xampp/htdocs/stardust/wp-content/themes/stardust-theme/react-src/src/pages/newsletters/newsletters.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport pdfjs from 'pdfjs-dist/build/pdf';\r\n\r\nimport PageTitle from '../../components/pageTItle/pageTitle';\r\n\r\nimport HTMLService from '../../services/htmlService';\r\nimport NewslettersService from '../../services/newsletterService';\r\n\r\nimport './newsletters.css';\r\n\r\nfunction NewslettersPage() {\r\n    const [newsletter, setNewsletter] = useState({});\r\n    const [newsletterList, setNewsletterList] = useState([]);\r\n    const [pdfUrl, setPdfUrl] = useState('');\r\n    const [pdf, setPdf] = useState();\r\n    const [numPages, setNumPages] = useState(null);\r\n    const [pageNumber, setPageNumber] = useState(1);\r\n\r\n    useEffect(() => {\r\n        async function getNewsletters() {\r\n            let response = await NewslettersService.getNewsletters();\r\n\r\n            if (response.length) {\r\n                setNewsletter(response[0]);\r\n                setPdfUrl(HTMLService.sanatizeHTML(response[0].content.rendered));\r\n\r\n                if (response.length > 1) {\r\n                    response.shift();\r\n                    setNewsletterList(response);\r\n                }\r\n            }\r\n        }\r\n\r\n        getNewsletters();\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n      // Asynchronously load the PDF\r\n      const loadingTask = pdfjs.getDocument(pdfUrl);\r\n      loadingTask.promise.then((pdf) => {\r\n        setNumPages(pdf.numPages);\r\n      }, (error) => {\r\n        console.error('Error loading PDF:', error);\r\n      });\r\n    }, [pdfUrl]);\r\n\r\n    const changePage = (offset) => {\r\n      setPageNumber((prevPageNumber) => prevPageNumber + offset);\r\n    };\r\n\r\n    return (\r\n        <div id='newsletters'>\r\n            <PageTitle\r\n                image=\"#\"\r\n                pageTitle=\"Newsletters\"\r\n            />\r\n            {\r\n              !newsletter.title ?\r\n                <h1>No newsletter found</h1>\r\n              :\r\n                <div>\r\n                  <p>\r\n                    Page {pageNumber} of {numPages}\r\n                  </p>\r\n                  <button onClick={() => changePage(-1)} disabled={pageNumber <= 1}>\r\n                    Previous\r\n                  </button>\r\n                  <button onClick={() => changePage(1)} disabled={pageNumber >= numPages}>\r\n                    Next\r\n                  </button>\r\n                  <canvas id=\"pdf-viewer\" />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewslettersPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}