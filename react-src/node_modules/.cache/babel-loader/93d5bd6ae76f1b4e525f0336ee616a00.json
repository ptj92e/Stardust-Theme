{"ast":null,"code":"\"use strict\";\n\nconst ops = require(\"../ops\");\nconst PDFImage = require(\"./pdf\");\nconst PDF = require(\"../object\");\nmodule.exports = async function (img, doc, parent, opts) {\n  if (!img) {\n    throw TypeError(\"No image provided\");\n  }\n  if (!doc._currentContent) {\n    await doc._startPage();\n  }\n  const _cursor = parent._cursor;\n  let renderWidth, renderHeight;\n  if (opts.width && opts.height) {\n    renderWidth = opts.width;\n    renderHeight = opts.height;\n  } else if (opts.width) {\n    renderWidth = opts.width;\n    renderHeight = img.height * (opts.width / img.width);\n  } else if (opts.height) {\n    renderHeight = opts.height;\n    renderWidth = img.width * (opts.height / img.height);\n  } else {\n    renderWidth = Math.min(img.width, _cursor.width);\n    renderHeight = img.height * (renderWidth / img.width);\n    if (renderHeight > _cursor.height) {\n      renderHeight = _cursor.height;\n      renderWidth = img.width * (renderHeight / img.height);\n    }\n  }\n  let x = _cursor.x;\n  let y = _cursor.y;\n  if (opts.wrap === false) {\n    if (opts.x !== undefined && opts.x !== null) {\n      x = opts.x;\n    }\n    if (opts.y !== undefined && opts.y !== null) {\n      y = opts.y;\n    }\n  } else {\n    if (!_cursor.doesFit(renderHeight)) {\n      await parent._pageBreak(1);\n    }\n    y = _cursor.y;\n    _cursor.y -= renderHeight;\n  }\n  y -= renderHeight;\n  switch (opts.align) {\n    case \"right\":\n      x += _cursor.width - renderWidth;\n      break;\n    case \"center\":\n      x += (_cursor.width - renderWidth) / 2;\n      break;\n    case \"left\":\n    default:\n      break;\n  }\n  if (img instanceof PDFImage) {\n    // in percent\n    renderWidth /= img.width;\n    renderHeight /= img.height;\n  }\n  let chunk = ops.q() + ops.cm(renderWidth, 0, 0, renderHeight, x, y);\n  const aliases = doc._useXObject(img);\n  for (const alias of aliases) {\n    chunk += ops.Do(alias);\n  }\n  chunk += ops.Q();\n  if (opts.link) {\n    doc._annotations.push(new PDF.Dictionary({\n      Type: \"Annot\",\n      Subtype: \"Link\",\n      Rect: new PDF.Array([x, y, x + renderWidth, y + renderHeight]),\n      Border: new PDF.Array([0, 0, 0]),\n      A: new PDF.Dictionary({\n        Type: \"Action\",\n        S: \"URI\",\n        URI: new PDF.String(opts.link)\n      })\n    }));\n  }\n  if (opts.goTo) {\n    doc._annotations.push(new PDF.Dictionary({\n      Type: \"Annot\",\n      Subtype: \"Link\",\n      Rect: new PDF.Array([x, y, x + renderWidth, y + renderHeight]),\n      Border: new PDF.Array([0, 0, 0]),\n      A: new PDF.Dictionary({\n        S: \"GoTo\",\n        D: new PDF.String(opts.goTo)\n      })\n    }));\n  }\n  if (opts.destination) {\n    doc._destinations.set(opts.destination, new PDF.Array([doc._currentPage.toReference(), new PDF.Name(\"XYZ\"), _cursor.x, _cursor.y + renderHeight, null]));\n  }\n  await doc._write(chunk);\n};","map":{"version":3,"names":["ops","require","PDFImage","PDF","module","exports","img","doc","parent","opts","TypeError","_currentContent","_startPage","_cursor","renderWidth","renderHeight","width","height","Math","min","x","y","wrap","undefined","doesFit","_pageBreak","align","chunk","q","cm","aliases","_useXObject","alias","Do","Q","link","_annotations","push","Dictionary","Type","Subtype","Rect","Array","Border","A","S","URI","String","goTo","D","destination","_destinations","set","_currentPage","toReference","Name","_write"],"sources":["C:/xampp/htdocs/stardust/wp-content/themes/stardust-theme/react-src/node_modules/pdfjs/lib/image/render.js"],"sourcesContent":["\"use strict\";\n\nconst ops = require(\"../ops\");\nconst PDFImage = require(\"./pdf\");\nconst PDF = require(\"../object\");\n\nmodule.exports = async function (img, doc, parent, opts) {\n  if (!img) {\n    throw TypeError(\"No image provided\");\n  }\n\n  if (!doc._currentContent) {\n    await doc._startPage();\n  }\n\n  const _cursor = parent._cursor;\n\n  let renderWidth, renderHeight;\n  if (opts.width && opts.height) {\n    renderWidth = opts.width;\n    renderHeight = opts.height;\n  } else if (opts.width) {\n    renderWidth = opts.width;\n    renderHeight = img.height * (opts.width / img.width);\n  } else if (opts.height) {\n    renderHeight = opts.height;\n    renderWidth = img.width * (opts.height / img.height);\n  } else {\n    renderWidth = Math.min(img.width, _cursor.width);\n    renderHeight = img.height * (renderWidth / img.width);\n\n    if (renderHeight > _cursor.height) {\n      renderHeight = _cursor.height;\n      renderWidth = img.width * (renderHeight / img.height);\n    }\n  }\n\n  let x = _cursor.x;\n  let y = _cursor.y;\n\n  if (opts.wrap === false) {\n    if (opts.x !== undefined && opts.x !== null) {\n      x = opts.x;\n    }\n\n    if (opts.y !== undefined && opts.y !== null) {\n      y = opts.y;\n    }\n  } else {\n    if (!_cursor.doesFit(renderHeight)) {\n      await parent._pageBreak(1);\n    }\n    y = _cursor.y;\n    _cursor.y -= renderHeight;\n  }\n\n  y -= renderHeight;\n\n  switch (opts.align) {\n    case \"right\":\n      x += _cursor.width - renderWidth;\n      break;\n    case \"center\":\n      x += (_cursor.width - renderWidth) / 2;\n      break;\n    case \"left\":\n    default:\n      break;\n  }\n\n  if (img instanceof PDFImage) {\n    // in percent\n    renderWidth /= img.width;\n    renderHeight /= img.height;\n  }\n\n  let chunk = ops.q() + ops.cm(renderWidth, 0, 0, renderHeight, x, y);\n\n  const aliases = doc._useXObject(img);\n  for (const alias of aliases) {\n    chunk += ops.Do(alias);\n  }\n\n  chunk += ops.Q();\n\n  if (opts.link) {\n    doc._annotations.push(\n      new PDF.Dictionary({\n        Type: \"Annot\",\n        Subtype: \"Link\",\n        Rect: new PDF.Array([x, y, x + renderWidth, y + renderHeight]),\n        Border: new PDF.Array([0, 0, 0]),\n        A: new PDF.Dictionary({\n          Type: \"Action\",\n          S: \"URI\",\n          URI: new PDF.String(opts.link),\n        }),\n      }),\n    );\n  }\n  if (opts.goTo) {\n    doc._annotations.push(\n      new PDF.Dictionary({\n        Type: \"Annot\",\n        Subtype: \"Link\",\n        Rect: new PDF.Array([x, y, x + renderWidth, y + renderHeight]),\n        Border: new PDF.Array([0, 0, 0]),\n        A: new PDF.Dictionary({\n          S: \"GoTo\",\n          D: new PDF.String(opts.goTo),\n        }),\n      }),\n    );\n  }\n  if (opts.destination) {\n    doc._destinations.set(\n      opts.destination,\n      new PDF.Array([\n        doc._currentPage.toReference(),\n        new PDF.Name(\"XYZ\"),\n        _cursor.x,\n        _cursor.y + renderHeight,\n        null,\n      ]),\n    );\n  }\n\n  await doc._write(chunk);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}