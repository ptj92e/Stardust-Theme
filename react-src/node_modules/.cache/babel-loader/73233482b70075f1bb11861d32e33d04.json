{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\stardust\\\\wp-content\\\\themes\\\\stardust-theme\\\\react-src\\\\src\\\\components\\\\siteAlert\\\\siteAlert.js\";\nimport React, { useEffect, useState } from 'react';\nimport Alert from \"react-bootstrap/Alert\";\nimport AlertsService from '../../services/alertService';\nimport HTMLService from '../../services/htmlService';\nconst alertStyles = ['primary', 'secondary', 'success', 'danger', 'warning', 'info', 'light', 'dark'];\nfunction AlertItem(props) {\n  const [showAlert, setShowAlert] = useState(false);\n  const {\n    alert,\n    alertClass\n  } = props;\n  useEffect(() => {\n    setShowAlert(alert ? true : false);\n  });\n  const handleOnClose = () => {\n    console.log(alert);\n    setShowAlert(false);\n    console.log(showAlert);\n  };\n  return /*#__PURE__*/React.createElement(Alert, {\n    key: alert.id,\n    variant: alertClass,\n    show: showAlert,\n    onClose: handleOnClose,\n    className: \"mb-0\",\n    dismissible: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 16\n    }\n  }, alert.title.rendered, \":\"), \" \", HTMLService.sanatizeHTML(alert.content.rendered)));\n}\nfunction SiteAlert() {\n  const [alerts, setAlerts] = useState([]);\n  useEffect(() => {\n    async function getAlerts() {\n      const alertList = await AlertsService.getAlerts();\n      setAlerts(alertList);\n    }\n    getAlerts();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, alerts ? alerts.map(alert => {\n    const className = HTMLService.sanatizeHTML(alert.excerpt.rendered);\n    const alertClass = alertStyles.includes(className) ? className : 'danger';\n    return /*#__PURE__*/React.createElement(AlertItem, {\n      alert: alert,\n      alertClass: alertClass,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 29\n      }\n    });\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null));\n}\nexport default SiteAlert;","map":{"version":3,"names":["React","useEffect","useState","Alert","AlertsService","HTMLService","alertStyles","AlertItem","props","showAlert","setShowAlert","alert","alertClass","handleOnClose","console","log","createElement","key","id","variant","show","onClose","className","dismissible","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","title","rendered","sanatizeHTML","content","SiteAlert","alerts","setAlerts","getAlerts","alertList","Fragment","map","excerpt","includes"],"sources":["C:/xampp/htdocs/stardust/wp-content/themes/stardust-theme/react-src/src/components/siteAlert/siteAlert.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nimport Alert from \"react-bootstrap/Alert\";\r\n\r\nimport AlertsService from '../../services/alertService';\r\nimport HTMLService from '../../services/htmlService';\r\n\r\nconst alertStyles = [\r\n    'primary',\r\n    'secondary',\r\n    'success',\r\n    'danger',\r\n    'warning',\r\n    'info',\r\n    'light',\r\n    'dark'\r\n]\r\n\r\nfunction AlertItem(props) {\r\n    const [showAlert, setShowAlert] = useState(false);\r\n    const { alert, alertClass } = props;\r\n\r\n    useEffect(() => {\r\n        setShowAlert(alert ? true : false)\r\n    })\r\n\r\n    const handleOnClose = () => {\r\n        console.log(alert)\r\n        setShowAlert(false)\r\n        console.log(showAlert)\r\n    }\r\n\r\n    return (\r\n        <Alert\r\n            key={alert.id}\r\n            variant={alertClass}\r\n            show={showAlert}\r\n            onClose={handleOnClose}\r\n            className=\"mb-0\"\r\n            dismissible\r\n        >\r\n            <p><strong>{alert.title.rendered}:</strong> {HTMLService.sanatizeHTML(alert.content.rendered)}</p>\r\n        </Alert>\r\n    )\r\n}\r\n\r\nfunction SiteAlert() {\r\n    const [alerts, setAlerts] = useState([]);\r\n\r\n    useEffect(() => {\r\n        async function getAlerts() {\r\n            const alertList = await AlertsService.getAlerts();\r\n\r\n            setAlerts(alertList);\r\n        }\r\n\r\n        getAlerts();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            {\r\n                alerts ? \r\n                    alerts.map(alert => {\r\n                        const className = HTMLService.sanatizeHTML(alert.excerpt.rendered);\r\n                        const alertClass = alertStyles.includes(className) ? className : 'danger';\r\n\r\n                        return (\r\n                            <AlertItem \r\n                                alert={alert}\r\n                                alertClass={alertClass} />\r\n                        )\r\n                    })\r\n                : <></>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SiteAlert;"],"mappings":"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"},"metadata":{},"sourceType":"module"}