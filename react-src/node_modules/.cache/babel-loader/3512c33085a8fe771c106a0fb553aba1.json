{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate,useParams}from'react-router-dom';import PageTitle from\"../../../components/pageTItle/pageTitle\";import Button from'react-bootstrap/Button';import Col from'react-bootstrap/Col';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Carousel from\"react-bootstrap/Carousel\";import Spinner from'react-bootstrap/Spinner';import HTMLService from'../../../services/htmlService';import RoomsService from'../../../services/roomsService';import'./room.css';function RoomPage(){const[images,setImages]=useState([]);const[room,setRoom]=useState({});const{roomId}=useParams();const[index,setIndex]=useState(0);const[titleText,setTitleText]=useState(\"Loading\");const[loading,setLoading]=useState(true);const[apiCall,setApiCall]=useState(false);const handleSelect=selectedIndex=>{setIndex(selectedIndex);};const navigate=useNavigate();useEffect(()=>{async function getRoom(roomId){const selectedRoom=await RoomsService.getRoom(roomId);setRoom(selectedRoom);setImages(HTMLService.sanatizeHTML(selectedRoom.excerpt.rendered).split(','));setApiCall(true);};getRoom(roomId);},[]);useEffect(()=>{if(apiCall){setLoading(false);setTitleText(JSON.stringify(room)!=='{}'?room.title.rendered:\"No Room Found\");}},[apiCall]);const handleReservation=e=>{e.preventDefault();navigate(\"/reservations/\".concat(room.title.rendered));};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(PageTitle,{pageTitle:titleText}),/*#__PURE__*/React.createElement(\"div\",{id:\"room\",className:loading?'addFlex':''},loading?/*#__PURE__*/React.createElement(Spinner,{animation:\"border\",variant:\"success\",size:\"xl\"}):(room===null||room===void 0?void 0:room.id)?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center roomInfo\"},/*#__PURE__*/React.createElement(Col,{xs:10,md:6},/*#__PURE__*/React.createElement(\"div\",{className:\"image-container\"},/*#__PURE__*/React.createElement(Carousel,{className:\"roomCarousel\",activeIndex:index,onSelect:handleSelect,interval:null},images.map(image=>{return/*#__PURE__*/React.createElement(Carousel.Item,null,/*#__PURE__*/React.createElement(\"div\",{className:\"carouselImage\",style:{backgroundImage:\"url(\".concat(image,\")\")}}));})))),/*#__PURE__*/React.createElement(Col,{xs:10,md:4},/*#__PURE__*/React.createElement(\"div\",{className:\"description\"},/*#__PURE__*/React.createElement(\"p\",null,HTMLService.sanatizeHTML(room.content.rendered))))),/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center mt-3\"},/*#__PURE__*/React.createElement(Button,{onClick:handleReservation},\"Reserve this Room\")))):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(\"p\",null,\"Please try again. If errors persist, please contact us at\\xA0\",/*#__PURE__*/React.createElement(\"span\",{className:\"greenText\",onClick:()=>window.open(\"tel:+18002625077\")},/*#__PURE__*/React.createElement(\"strong\",null,\"1(800)262-5077\")))))));}export default RoomPage;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","PageTitle","Button","Col","Container","Row","Carousel","Spinner","HTMLService","RoomsService","RoomPage","images","setImages","room","setRoom","roomId","index","setIndex","titleText","setTitleText","loading","setLoading","apiCall","setApiCall","handleSelect","selectedIndex","navigate","getRoom","selectedRoom","sanatizeHTML","excerpt","rendered","split","JSON","stringify","title","handleReservation","e","preventDefault","concat","createElement","Fragment","pageTitle","id","className","animation","variant","size","xs","md","activeIndex","onSelect","interval","map","image","Item","style","backgroundImage","content","onClick","window","open"],"sources":["C:/Users/jones/OneDrive/Desktop/stardust-theme/react-src/src/pages/rooms/room/room.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\n\r\nimport PageTitle from \"../../../components/pageTItle/pageTitle\";\r\n\r\nimport Button from 'react-bootstrap/Button';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Carousel from \"react-bootstrap/Carousel\";\r\nimport Spinner from 'react-bootstrap/Spinner';\r\n\r\nimport HTMLService from '../../../services/htmlService';\r\nimport RoomsService from '../../../services/roomsService';\r\n\r\nimport './room.css';\r\n\r\nfunction RoomPage() {\r\n    const [images, setImages] = useState([]);\r\n    const [room, setRoom] = useState({});\r\n    const { roomId } = useParams();\r\n    const [index, setIndex] = useState(0);\r\n    const [titleText, setTitleText] = useState(\"Loading\");\r\n    const [loading, setLoading] = useState(true);\r\n    const [apiCall, setApiCall] = useState(false);\r\n\r\n    const handleSelect = (selectedIndex) => {\r\n        setIndex(selectedIndex);\r\n    };\r\n\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        async function getRoom(roomId) {\r\n            const selectedRoom = await RoomsService.getRoom(roomId);\r\n            setRoom(selectedRoom);\r\n            setImages(HTMLService.sanatizeHTML(selectedRoom.excerpt.rendered).split(','));\r\n            setApiCall(true)\r\n        };\r\n\r\n        getRoom(roomId);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (apiCall) {\r\n            setLoading(false);\r\n            setTitleText(JSON.stringify(room) !== '{}' ? room.title.rendered : \"No Room Found\");\r\n        }\r\n    }, [apiCall]);\r\n\r\n    const handleReservation = (e) => {\r\n        e.preventDefault();\r\n        navigate(`/reservations/${room.title.rendered}`);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <PageTitle pageTitle={titleText} />\r\n            <div id='room' className={loading ? 'addFlex' : ''}>\r\n                {\r\n                    loading\r\n                        ?   <Spinner animation=\"border\" variant=\"success\" size=\"xl\" />\r\n                        :   room?.id  ? \r\n                                <>\r\n                                    <Container>\r\n                                        <Row className='justify-content-center roomInfo'>\r\n                                            <Col xs={10} md={6}>\r\n                                                <div className=\"image-container\">\r\n                                                    <Carousel className=\"roomCarousel\" activeIndex={index} onSelect={handleSelect} interval={null}>\r\n                                                        {\r\n                                                            images.map((image) => {\r\n                                                                return(\r\n                                                                    <Carousel.Item>\r\n                                                                        <div className=\"carouselImage\" style={{ backgroundImage: `url(${image})` }}></div>\r\n                                                                    </Carousel.Item>\r\n                                                                )\r\n                                                            })\r\n                                                        }\r\n                                                    </Carousel>\r\n                                                </div>\r\n                                            </Col>\r\n                                            <Col xs={10} md={4}>\r\n                                                <div className=\"description\">\r\n                                                    <p>{ HTMLService.sanatizeHTML(room.content.rendered) }</p>\r\n                                                </div>\r\n                                            </Col>\r\n                                        </Row>\r\n                                        <Row className=\"justify-content-center mt-3\">\r\n                                            <Button onClick={handleReservation}>Reserve this Room</Button>\r\n                                        </Row>\r\n                                    </Container>\r\n                                </>\r\n                            :\r\n                                <>\r\n                                    <Container>\r\n                                        <p>Please try again. \r\n                                            If errors persist, please contact us at&nbsp;\r\n                                            <span className=\"greenText\" onClick={() => window.open(\"tel:+18002625077\")}><strong>1(800)262-5077</strong></span></p>\r\n                                    </Container>\r\n                                </>       \r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RoomPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}