{"ast":null,"code":"\"use strict\";\n\nconst PDF = require(\"../object\");\nconst Parser = require(\"../parser/parser\");\nmodule.exports = class PDFImage {\n  constructor(src) {\n    const parser = new Parser(src);\n    parser.parse();\n    const catalog = parser.trailer.get(\"Root\").object.properties;\n    const pages = catalog.get(\"Pages\").object.properties;\n    const first = pages.get(\"Kids\")[0].object.properties;\n    const mediaBox = first.get(\"MediaBox\") || pages.get(\"MediaBox\");\n    this.page = first;\n    this.width = mediaBox[2];\n    this.height = mediaBox[3];\n    const contents = this.page.get(\"Contents\");\n    this.xobjCount = Array.isArray(contents) ? contents.length : 1;\n  }\n  async write(doc, xobjs) {\n    const resources = this.page.get(\"Resources\");\n    const bbox = new PDF.Array([0, 0, this.width, this.height]);\n    for (let i = 0; i < this.xobjCount; ++i) {\n      const xobj = xobjs[i];\n      xobj.prop(\"Subtype\", \"Form\");\n      xobj.prop(\"FormType\", 1);\n      xobj.prop(\"BBox\", bbox);\n      xobj.prop(\"Resources\", resources instanceof PDF.Object ? resources.toReference() : resources);\n      let contents = this.page.get(\"Contents\");\n      if (Array.isArray(contents)) {\n        contents = contents[i].object;\n      } else {\n        contents = contents.object;\n      }\n      const content = new PDF.Stream(xobj);\n      content.content = contents.content.content;\n      if (contents.properties.has(\"Filter\")) {\n        xobj.prop(\"Filter\", contents.properties.get(\"Filter\"));\n      }\n      xobj.prop(\"Length\", contents.properties.get(\"Length\"));\n      if (contents.properties.has(\"Length1\")) {\n        xobj.prop(\"Length1\", contents.properties.get(\"Length1\"));\n      }\n      const objects = [];\n      Parser.addObjectsRecursive(objects, xobj);\n\n      // first, register objects to assign IDs (for references)\n      for (const obj of objects) {\n        doc._registerObject(obj, true);\n      }\n\n      // write objects\n      for (const obj of objects) {\n        await doc._writeObject(obj);\n      }\n      await doc._writeObject(xobj);\n    }\n  }\n};","map":{"version":3,"names":["PDF","require","Parser","module","exports","PDFImage","constructor","src","parser","parse","catalog","trailer","get","object","properties","pages","first","mediaBox","page","width","height","contents","xobjCount","Array","isArray","length","write","doc","xobjs","resources","bbox","i","xobj","prop","Object","toReference","content","Stream","has","objects","addObjectsRecursive","obj","_registerObject","_writeObject"],"sources":["C:/xampp/htdocs/stardust/wp-content/themes/stardust-theme/react-src/node_modules/pdfjs/lib/image/pdf.js"],"sourcesContent":["\"use strict\";\n\nconst PDF = require(\"../object\");\nconst Parser = require(\"../parser/parser\");\n\nmodule.exports = class PDFImage {\n  constructor(src) {\n    const parser = new Parser(src);\n    parser.parse();\n\n    const catalog = parser.trailer.get(\"Root\").object.properties;\n    const pages = catalog.get(\"Pages\").object.properties;\n    const first = pages.get(\"Kids\")[0].object.properties;\n    const mediaBox = first.get(\"MediaBox\") || pages.get(\"MediaBox\");\n\n    this.page = first;\n    this.width = mediaBox[2];\n    this.height = mediaBox[3];\n\n    const contents = this.page.get(\"Contents\");\n    this.xobjCount = Array.isArray(contents) ? contents.length : 1;\n  }\n\n  async write(doc, xobjs) {\n    const resources = this.page.get(\"Resources\");\n    const bbox = new PDF.Array([0, 0, this.width, this.height]);\n\n    for (let i = 0; i < this.xobjCount; ++i) {\n      const xobj = xobjs[i];\n\n      xobj.prop(\"Subtype\", \"Form\");\n      xobj.prop(\"FormType\", 1);\n      xobj.prop(\"BBox\", bbox);\n      xobj.prop(\n        \"Resources\",\n        resources instanceof PDF.Object ? resources.toReference() : resources,\n      );\n\n      let contents = this.page.get(\"Contents\");\n      if (Array.isArray(contents)) {\n        contents = contents[i].object;\n      } else {\n        contents = contents.object;\n      }\n\n      const content = new PDF.Stream(xobj);\n      content.content = contents.content.content;\n\n      if (contents.properties.has(\"Filter\")) {\n        xobj.prop(\"Filter\", contents.properties.get(\"Filter\"));\n      }\n      xobj.prop(\"Length\", contents.properties.get(\"Length\"));\n      if (contents.properties.has(\"Length1\")) {\n        xobj.prop(\"Length1\", contents.properties.get(\"Length1\"));\n      }\n\n      const objects = [];\n      Parser.addObjectsRecursive(objects, xobj);\n\n      // first, register objects to assign IDs (for references)\n      for (const obj of objects) {\n        doc._registerObject(obj, true);\n      }\n\n      // write objects\n      for (const obj of objects) {\n        await doc._writeObject(obj);\n      }\n\n      await doc._writeObject(xobj);\n    }\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}